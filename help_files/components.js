var customPhonePrefixController=function(){function e(i){$(".selectPhonePrefix").each(function(){var e,o,n,t,s;e=$(this),o=i,n=$(e).parent(),t=e.find("option:first"),s=$(e).find("option:selected").attr("data-iso2"),n.find(".icon-flag").attr("src","//st.mngbcn.com/static/images/loyalty/images/flags/"+s+".png"),t.text(e.val()).val(e.val()).prop("selected",!0),n.find(".prefixToggle").text(t.val()),n.find("#STEP1_cfTelfErrorLabel").css("position","relative").css("left","-30%"),n.find("#STEP1_cfTelfSuggestLabel").css("position","relative").css("left","-30%"),o||f()})}function f(){$("#STEP1_cfTelfSuggestLabel").css("display","none"),$("#STEP1_cfTelfSuggestLabel").css("opacity","0"),$("#STEP1_cfTelfSuggestLabel").css("height","0"),$("#STEP1_cfTelfSuggestLabel").css("line-height","0")}return{init:function(){$("body").off("change","#STEP1_cfTelfErrorLabel"),$("body").on("change","#STEP1_cfTelfErrorLabel",function(){e(!1),$("#STEP1_cfTelfErrorLabel").css("position","relative").css("left","-30%"),$("#STEP1_cfTelfSuggestLabel").css("position","relative").css("left","-30%"),f()}),$("body").off("change",".selectPhonePrefix"),$("body").on("change",".selectPhonePrefix",function(){$(".phoneComponent").find(".suggestValidation").css("display","none"),$(".phoneComponent").find(".suggestValidation").addClass("hide-helper"),e(!1)}),$(".selectPhonePrefix").on("click keypress",function(){$(".prefixToggle").toggle()}),$(".selectPhonePrefix").on("focusout",function(){$(".icon").removeClass("flag-focused"),$(".prefixToggle").hide()}),$(".selectPhonePrefix").focus(function(){$(".icon").addClass("flag-focused")}),e(!0)}}}();$(document).ready(function(){customPhonePrefixController.init()});